<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/302292 (zh-CN); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="408"/>

<div>
<span><div><span style="font-family: 楷体;"><span style="font-size: 21px;"><span style="color: rgb(77, 206, 29);"><b>第一步</b>：</span>首先申请微信公众号。在百度里搜索微信公众平台，点击注册登录。记得选择“订阅号”</span></span></div><div><span style="font-size: 21px;"><span style="font-family: 楷体;"><span style="color: rgb(77, 206, 29);">第二步</span>：打开百度，搜索新浪云，注册登录一下，选择控制台下的“云应用SAE”,应用管理下边有“</span></span><span style="font-size: 21px;"><span style="font-family: 楷体;">+创建新应用</span></span> <span style="font-size: 21px;"><span style="font-family: 楷体;">”，选择标准环境SVN，应用信息下边的二级域名和应用名称随便填写，点击创建应用。</span></span></div><div><span style="font-size: 21px;"><span style="font-family: 楷体;"><span style="color: rgb(77, 206, 29);">第三步：</span>当即+创建版本下边的“这里创建一个人版本”选择版本1，创建。</span></span></div><div><span style="font-size: 21px;"><span style="font-family: 楷体;"><span style="color: rgb(77, 206, 29);">第四步：</span>在免费配额下边的操作下边点击编辑代码，点击小加号创建php文件。（这里可以粘贴老师写好的，我也不知道怎么写。define里 TOKEN后边的值要微信里的基本设置里的值保持一致）</span></span></div><div><span style="font-size: 21px;"><span style="font-family: 楷体;">点击index.php,右键通过url访问，复制浏览器地址栏的地址。登录微信公众号之后，点击<span style="color: rgb(255, 0, 0);">开发</span>下方的<span style="color: rgb(255, 70, 53);">基本配置，</span>点击修改配置，url即为刚刚复制粘贴的地址栏的地址，Token里的值要和刚刚index.php里的token里的值保持一致。点击随机生成，生成随机的key值。然后点击提交。</span></span></div><div><span style="font-size: 21px;"><span style="font-family: 楷体;"><span style="color: rgb(77, 206, 29);">第五步：</span>在微信公众平台下边的<span style="color: rgb(255, 0, 0);">设置</span>下选择公众号设置，然后选择右边的功能设置，选择js接口安全域名，这里的域名就是代码管理下边的免费配额下边的链接下边的地址。点击保存，并不可以，这是需要下载<a href="https://mp.weixin.qq.com/cgi-bin/mpverifytxt?lang=zh_CN&amp;token=973675576" style="outline: 0px; color: rgb(69, 154, 233); text-decoration: none; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">MP_verify_QbaTco6JopBlsrfB.txt</a>文件，然后导入到SAE Editor里，向上的箭头是导入。然后再点击保存就可以了。</span></span></div><div><span style="color: rgb(77, 206, 29);"><span style="font-size: 21px;"><span style="font-family: 楷体;">第六步：</span></span></span><a href="http://mp.weixin.qq.com/wiki/7/aaa137b55fb2e0456bf8dd9148dd613f.html">http://mp.weixin.qq.com/wiki/7/aaa137b55fb2e0456bf8dd9148dd613f.html</a><span style="font-family: 楷体;"><span style="font-size: 21px;">点击链接，该链接为微信公众者开发者文档，下载该文档。然后把php的文件夹导入到</span></span><span style="font-size: 21px;"><span style="font-family: 楷体;">SAE Editor里，然后新建一个a.php(名字随意)文件，把刚刚php文件夹下边的sample里的内容复制到a.php里。还需要在</span></span><span style="font-size: 21px;"><span style="font-family: 楷体;">a.php里写上meta标签 &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no&quot; /&gt;，然后把你想要的接口导入到a.php中。记得要把所调用的接口放在jsApiList列表里。</span></span></div><div><span style="font-family: 楷体;"><span style="color: rgb(255, 0, 0);"><b><span style="font-size: 32px;">以下是a.php里的内容可以参考</span></b></span></span></div><div><span style="color: rgb(65, 173, 28);"><span style="font-size: 24px;"><b><span style="font-family: 楷体;">（主要有隐藏，关闭，地图，照片的接口）</span></b></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">&lt;?php</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">require_once &quot;jssdk.php&quot;;</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">$jssdk = new JSSDK(&quot;wx0029c1835c82a2d4&quot;, &quot;b404073c07da39d8a35f5b1a6bdf597a &quot;);</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">$signPackage = $jssdk-&gt;GetSignPackage();</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">?&gt;</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">&lt;!DOCTYPE html&gt;</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">&lt;html lang=&quot;en&quot;&gt;</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">&lt;head&gt;</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">  &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">  &lt;title&gt;&lt;/title&gt;</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">      &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no&quot; /&gt;</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">&lt;/head&gt;</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">&lt;body&gt;</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">          &lt;input type=&quot;button&quot;  id=&quot;btn1&quot; value=&quot;隐藏按钮&quot;/&gt;</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">            &lt;input type=&quot;button&quot;  id=&quot;btn2&quot; value=&quot;关闭按钮&quot;/&gt;</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">     &lt;input type=&quot;button&quot;  id=&quot;btn3&quot; value=&quot;地图&quot;/&gt;</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">     &lt;input type=&quot;button&quot;  id=&quot;btn4&quot; value=&quot;二维码&quot;/&gt;</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">     &lt;input type=&quot;button&quot;  id=&quot;btn5&quot; value=&quot;照片&quot;/&gt;</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">    &lt;div id=&quot;aa&quot;&gt;&lt;/div&gt;</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;"><br/></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;"><br/></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">&lt;/body&gt;</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">&lt;script src=&quot;http://res.wx.qq.com/open/js/jweixin-1.0.0.js&quot;&gt;&lt;/script&gt;</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">&lt;script src=&quot;jquery-1.11.1.min.js&quot;&gt;&lt;/script&gt;</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">&lt;script&gt;</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">  /*</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">   * 注意：</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">   * 1. 所有的JS接口只能在公众号绑定的域名下调用，公众号开发者需要先登录微信公众平台进入“公众号设置”的“功能设置”里填写“JS接口安全域名”。</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">   * 2. 如果发现在 Android 不能分享自定义内容，请到官网下载最新的包覆盖安装，Android 自定义分享接口需升级至 6.0.2.58 版本及以上。</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">   * 3. 常见问题及完整 JS-SDK 文档地址：http://mp.weixin.qq.com/wiki/7/aaa137b55fb2e0456bf8dd9148dd613f.html</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">   *</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">   * 开发中遇到问题详见文档“附录5-常见错误及解决办法”解决，如仍未能解决可通过以下渠道反馈：</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">   * 邮箱地址：weixin-open@qq.com</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">   * 邮件主题：【微信JS-SDK反馈】具体问题</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">   * 邮件内容说明：用简明的语言描述问题所在，并交代清楚遇到该问题的场景，可附上截屏图片，微信团队会尽快处理你的反馈。</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">   */</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">  wx.config({</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">    debug: true,</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">    appId: '&lt;?php echo $signPackage[&quot;appId&quot;];?&gt;',</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">    timestamp: &lt;?php echo $signPackage[&quot;timestamp&quot;];?&gt;,</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">    nonceStr: '&lt;?php echo $signPackage[&quot;nonceStr&quot;];?&gt;',</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">    signature: '&lt;?php echo $signPackage[&quot;signature&quot;];?&gt;',</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">    jsApiList: [</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">      // 所有要调用的 API 都要加到这个列表中</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">     &quot; hideOptionMenu&quot;,</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">      &quot;closeWindow&quot;,</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">      &quot;getLocation&quot;,</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">      &quot;openLocation&quot;,</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">      &quot;scanQRCode&quot;,</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">      &quot;chooseImage&quot;</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">    ]</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">  });</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">  wx.ready(function () {</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">      var btn1=document.getElementById(&quot;btn1&quot;);</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">      btn1.onclick=function(){</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">             wx.hideOptionMenu();</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">      }</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">      var btn2=document.getElementById(&quot;btn2&quot;);</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">      btn2.onclick=function(){</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">            wx.closeWindow();</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">      }</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">       var btn3=document.getElementById(&quot;btn3&quot;);</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">       btn3.onclick=function(){</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">               wx.getLocation({</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">    type: 'wgs84', // 默认为wgs84的gps坐标，如果要返回直接给openLocation用的火星坐标，可传入'gcj02'</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">    success: function (res) {</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">        var latitude = res.latitude; // 纬度，浮点数，范围为90 ~ -90</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">        var longitude = res.longitude; // 经度，浮点数，范围为180 ~ -180。</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">        var speed = res.speed; // 速度，以米/每秒计</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">        var accuracy = res.accuracy; // 位置精度</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;"><br/></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;"><br/></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">              wx.openLocation({</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">        latitude:latitude, // 纬度，浮点数，范围为90 ~ -90</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">        longitude:longitude, // 经度，浮点数，范围为180 ~ -180。</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">        name: '北京', // 位置名</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">        address: '', // 地址详情说明</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">        scale: 1, // 地图缩放级别,整形值,范围从1~28。默认为最大</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">        infoUrl: '' // 在查看位置界面底部显示的超链接,可点击跳转</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">});</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">    }</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">});</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;"><br/></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;"><br/></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;"><br/></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;"><br/></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">      }</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">        var btn4=document.getElementById(&quot;btn4&quot;);</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">      btn4.onclick=function(){</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;"><br/></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">          wx.scanQRCode({</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">    needResult: 0, // 默认为0，扫描结果由微信处理，1则直接返回扫描结果，</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">    scanType: [&quot;qrCode&quot;,&quot;barCode&quot;], // 可以指定扫二维码还是一维码，默认二者都有</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">    success: function (res) {</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">    var result = res.resultStr; // 当needResult 为 1 时，扫码返回的结果</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">}</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">});</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">      }</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;"><br/></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;"><br/></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;"><br/></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">        var btn5=document.getElementById(&quot;btn5&quot;);</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">      btn5.onclick=function(){</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;"><br/></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">      wx.chooseImage({</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">    count:9, // 默认9</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">    sizeType: ['original', 'compressed'], // 可以指定是原图还是压缩图，默认二者都有</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">    sourceType: ['album', 'camera'], // 可以指定来源是相册还是相机，默认二者都有</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">    success: function (res) {</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">        var localIds = res.localIds; // 返回选定照片的本地ID列表，localId可以作为img标签的src属性显示图片</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;"><br/></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;"><br/></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">                localIds.forEach(function(localId,index){</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">                    $(&quot;#aa&quot;).append($(&quot;&lt;img&gt;&quot;).attr(&quot;src&quot;,localId))</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;"><br/></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">                })</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;"><br/></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">    }</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">});</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;"><br/></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">      }</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;"><br/></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;"><br/></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;"><br/></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;"><br/></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;"><br/></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;"><br/></span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">    // 在这里调用 API</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">  });</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">&lt;/script&gt;</span></span></div><div><span style="font-family: 华文中宋;"><span style="font-size: 19px;">&lt;/html&gt;</span></span></div><div><br/></div><div><span style="font-size: 21px;"><span style="font-family: 楷体;"><br/></span></span></div></span>
</div></body></html> 